{% extends "withoutnav_template.html" %}
{% from "components/sub-navigation.html" import sub_navigation %}

{% block per_page_title %}
  Using Notify
{% endblock %}

{% block maincolumn_content %}

<div class="grid-row">
  <div class="column-one-third">
    {{ sub_navigation(navigation_links) }}
  </div>
  <div class="column-two-thirds">

    <h1 class="heading-large">Using Notify</h1>

    <h2 id="trial-mode" class="heading-medium">Trial mode</h2>
    <p>When you create a GOV.UK Notify account, you’ll start in trial mode. This lets you try out the service, but has some restrictions in place.</p>
    <p>
      You can remove these restrictions by
      {% if current_service and current_service.trial_mode %}
        <a href="{{ url_for('.request_to_go_live', service_id=current_service.id) }}">requesting to go live</a>.
      {% else %}
        going live.
      {% endif %}
    </p>

    <h3 class="heading-small">Restrictions in trial mode</h3>
    <p>In trial mode, you can:</p>
    <ul class="list list-bullet">
      <li>send up to 50 text messages and emails per day</li>
      <li>send messages to yourself and other people in your team</li>
      <li>draft letters (but not send them)</li>
    </ul>

    <h2 id="messagedeliveryandfailure" class="heading-medium">Sending messages</h2>
    <p>When you send a message, it moves through different states in Notify.</p>
    <img
        src="{{ asset_url('images/message-sending-flow.svg') }}"
        alt="A picture of the sending flow of messages in Notify, showing the three states of Sending, Delivered, And Failed. Also shows the next
             steps when messages fail, deleting data and trying a new channel for permanent failures, and trying again or trying a new channel for
             temporary failures"
        style="width: 100%;"
    >
    <h2 class="heading-medium">Message states – emails and text messages</h2>
    <h3 class="heading-small">Created (API only)</h3>
    <p>GOV.UK Notify has placed the message in a queue, ready to be sent to the provider. It should only remain in this state for a few seconds.</p>
    <h3 class="heading-small">Sending</h3>
    <p>GOV.UK Notify has sent the message to the provider. The provider will try to deliver the message to the recipient. GOV.UK Notify is waiting for delivery information.</p>
    <h3 class="heading-small">Pending (text messages only)</h3>
    <p>GOV.UK Notify is waiting for more delivery information.</p>
    <h3 class="heading-small">Sent internationally (text messages only)</h3>
    <p>The message was sent to an international number. The mobile networks in some countries do not provide any more delivery information.</p>
    <h3 class="heading-small">Delivered</h3>
    <p>The message was successfully delivered.</p>
    <p>Notify will not tell you if a user has opened or read a message.</p>
    <h3 class="heading-small" id="does-not-exist">Phone number or email address does not exist</h3>
    <p>The provider could not deliver the message because the email address or phone number was wrong.
    <p>You should remove these email addresses or phone numbers from your database.</p>
    <p>You’ll still be charged for text messages to numbers that do not exist.</p>
    <h3 class="heading-small" id="not-accepting-messages">Inbox/phone not accepting messages right now</h3>
    <p>The provider could not deliver the message after trying for 72 hours.</p>
    <p>This can happen when the recipient’s inbox is full or their phone is off.</p>
    <p>You can try to send the message again.</p>
    <p>You’ll still be charged for text messages to phones that are not accepting messages.</p>
    <h3 class="heading-small" id="technical-failure">Technical failure</h3>
    <p>Your message was not sent because there was a problem between Notify and the provider.</p>
    <p>You’ll have to try sending your messages again.</p>
    <p>You will not be charged for text messages that are affected by a technical failure.</p>

    <h2 class="heading-medium">Message states – letters</h2>
    <h3 class="heading-small">Accepted (API only)</h3>
    <p>GOV.UK Notify has sent the letter to the provider to be printed.</p>
    <h3 class="heading-small">Received (API only)</h3>
    <p>The provider has printed and dispatched the letter.</p>
    <h3 class="heading-small">Failed (API only)</h3>
    <p>The only failure status that applies to letters is technical-failure.</p>
    <p>GOV.UK Notify had an unexpected error while sending to our printing provider.</p>
    
    <h2 class="heading-medium">Receiving messages</h2>
    <h3 class="heading-small">Email replies</h3>
    <p>You can choose an email address you want replies to go to.</p>
    <h3 class="heading-small">Text messages</h3>
    <p>You can contact us if you want to be able to receive text messages. </p>
    <p>When you’ve done this, users will be able to reply to text messages you send them. They’ll also be able to start an interaction by sending you a text message.</p>
    <p>You’ll be able to see and reply to text messages you receive. You can also create automated processes to manage replies.</p>
    <p>You’ll still need to have a manual process in place for any messages that can’t be dealt with automatically.</p>

    <h2 class="heading-medium">Multiple services in one organisation</h2>
    <p>If your organisation offers multiple services, you can have a different Notify account for each of them.</p>
    <p>Each service:</p>
    <ul class="list list-bullet">
      <li>gets its own free message allowance</li>
      <li>has to request to go live separately</li>
    </ul>

    <h2 class="heading-medium">Letters</h2>
    <p>Letters can be up to 10 pages long (5 sides of paper, double-sided).</p>
    <p>Notify sends letters in C5 size envelopes, with a window.</p>

  </div>
</div>

{% endblock %}
