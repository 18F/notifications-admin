{% from "components/page-header.html" import page_header %}
{% from "components/page-footer.html" import sticky_page_footer %}
{% from "components/checkbox.html" import checkbox, checkboxes %}
{% from "components/checkbox.html" import checkbox, checkboxes %}
{% from "components/form.html" import form_wrapper %}
{% from "components/live-search.html" import live_search %}

{% extends "withnav_template.html" %}

{% block service_page_title %}
  {{ page_title }}
{% endblock %}

{% block maincolumn_content %}

  {{ page_header(
    page_title,
    back_link=url_for('.choose_broadcast_library', service_id=current_service.id),
  )}}

  {% for region in regions %}
    <h2 class="govuk-heading-m"><a class="govuk-link govuk-link--no-visited-state" href="{{ url_for('.add_broadcast_region', service_id=current_service.id, region_id=region.id) }}">{{ region.name }}</a></h2>
  {% endfor %}

  {{ live_search(target_selector='.multiple-choice', show=form.regions.choices|length > 7, form=search_form, label='Search by name') }}

  {% call form_wrapper() %}
    {{ checkboxes(form.regions, hide_legend=True) }}
    {{ sticky_page_footer('Add to broadcast') }}
  {% endcall %}

{% endblock %}
