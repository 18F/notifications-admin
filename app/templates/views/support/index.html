{% extends "withoutnav_template.html" %}
{% from "components/radios.html" import radios %}
{% from "components/page-footer.html" import page_footer %}
{% from "components/form.html" import form_wrapper %}
{% from "components/radios/macro.njk" import govukRadios %}

{% block per_page_title %}
  Support
{% endblock %}

{% block maincolumn_content %}

  <h1 class="heading-large">Support</h1>
  <p class="govuk-body">We provide 24-hour online support for teams with a live service on GOV.UK&nbsp;Notify.</p>

  {% call form_wrapper(class="bottom-gutter-2") %}
    {% if current_user.is_authenticated %}
      {{ govukRadios({
        "name": form.support_type.name,
        "fieldset": {
          "legend": {
            "text": form.support_type.label.text
          }
        },
        "errorMessage": {
          "text": form.support_type.errors[0]
        } if form.support_type.errors else False,
        "items": wtforms_option_fields_to_govuk_items(form.support_type)
      }) }}
    {% else %}
      <p class="govuk-body">
        What do you need help with?
      </p>
      {{ govukRadios({
        "name": form.who.name,
        "fieldset": {
          "legend": {
            "text": form.who.label.text,
            "classes": "govuk-visually-hidden"
          }
        },
        "errorMessage": {
          "text": form.who.errors[0]
        } if form.who.errors else False,
        "items": wtforms_option_fields_to_govuk_items(form.who)
      }) }}
    {% endif %}
    {{ page_footer('Continue') }}
  {% endcall %}

  <p class="govuk-body">You can also <a class="govuk-link govuk-link--no-visited-state" href="https://ukgovernmentdigital.slack.com/messages/C0E1ADVPC">contact us on Slack</a>.</p>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h2 class="heading-medium">Office hours</h2>
    <p class="govuk-body">Our office hours are 9:30am to 5:30pm, Monday to Friday.</p>
    <p class="govuk-body">When you report a problem in office hours, we’ll aim to read it within 30 minutes and reply within one working day.</p>

    <h2 class="heading-medium">Out-of-hours</h2>
    <p class="govuk-body">Outside office hours, response times depend on whether you’re reporting an emergency.</p>
    <p class="govuk-body">If it’s an emergency, we’ll reply within 30 minutes and update you every hour until the problem’s fixed.</p>
    <p class="govuk-body">If your problem is not an emergency, we’ll reply within one working day.</p>
    <p class="govuk-body">A problem is only classed as an emergency if:</p>
    <ul class="list list-bullet">
      <li>nobody on your team can sign in</li>
      <li>a ‘technical difficulties’ error appears when you try to upload a file</li>
      <li>a 500 response code appears when you try to send messages using the API</li>
    </ul>
  </div>
</div>

{% endblock %}
