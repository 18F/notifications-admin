{% extends "withnav_template.html" %}
{% from "components/folder-path.html" import folder_path, page_title_folder_path %}
{% from "components/textbox.html" import textbox %}
{% from "components/page-footer.html" import page_footer %}
{% from "components/form.html" import form_wrapper %}

{% block service_page_title %}
  {{ page_title_folder_path(template_folder_path) }}
{% endblock %}

{% block maincolumn_content %}

  <div class="grid-row bottom-gutter-1-2">
    <div class="column-whole">
      {{ folder_path(
        folders=template_folder_path,
        service_id=current_service.id,
        template_type='all',
        link_current_item=True
      ) }}
    </div>
  </div>

  {% if not delete_folder %}
    {% call form_wrapper() %}
      {{ textbox(form.name) }}
      {{ page_footer(
        'Save',
        delete_link=url_for(
          '.delete_template_folder',
          service_id=current_service_id,
          template_folder_id=template_folder_id
        ),
        delete_link_text="Delete this folder") }}
    {% endcall %}
  {% else %}
    <a href="{{url_for('.manage_template_folder', service_id=current_service.id, template_folder_id=template_folder_id)}}">Back to manage folder page</a>
  {% endif %}

{% endblock %}
