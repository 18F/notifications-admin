{% from "components/pill.html" import pill %}
{% from "components/message-count-label.html" import message_count_label %}
{% from "components/checkbox.html" import checkbox %}
{% from "components/radios.html" import radio %}
{% from "components/textbox.html" import textbox %}
{% from "components/live-search.html" import live_search %}
{% from "components/page-footer.html" import page_footer %}

{% extends "withnav_template.html" %}

{% set page_title = 'Templates' %}

{% block service_page_title %}
  {{ page_title }}
{% endblock %}

{% block maincolumn_content %}


    <div class="grid-row bottom-gutter-2-3">
      <div class="column-five-sixths">
        <h1 class="heading-large {% if group_name %}folder-title{% endif %}">{% if group_name %}<a class="folder-back" href="{{ url_for('.choose_template', service_id=current_service.id) }}">Templates</a> <span class="sep">/</span> {% endif %}<a href="{{url_for(
                'main.choose_template',
                service_id=current_service.id,
                template_type='all',
                group_name=group_name,
            )}}">{{ group_name or page_title }}</a></h1>
      </div>
    </div>

    <form method="post">

      <div class="form-group">
        <label for="new_group" class="form-label bold-label">
          Folder name
        </label>
        <input type="text" class="form-control form-control-1-1" name="new_group" value="{{ group_name }}" />
      </div>


      <fieldset class="group-select form-group" data-module="group-select" tabindex="-1">
        <legend class="form-label">
          Visible in
        </legend>
        <div class="group-select-other">
          {{ checkbox({
            'id':'t-all',
            'name': 'folders',
            'label': {'text': 'Templates'},
            'data': True,
          }, disabled=True) }}
          <div class="group-select-subfolder">
            {% for folder in current_service.folders %}
              {% if folder.name != group_name %}
                {{ checkbox({
                  'id':'t-{}'.format(loop.index),
                  'name': 'folders',
                  'label': {'text': folder.name}
                }) }}
              {% endif %}
            {% endfor %}
          </div>
        </div>
        <div class="group-select-change">
          <a href="#">See other folders</a>
        </div>
        <div class="group-select-hide">
          <a href="#">Done</a>
        </div>
      </fieldset>

      {{ page_footer(
        'Save',
        delete_link='#',
        delete_link_text='Delete this folder'
      ) }}

    </form>

{% endblock %}
