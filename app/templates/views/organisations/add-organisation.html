{% extends "withoutnav_template.html" %}
{% from "components/page-header.html" import page_header %}
{% from "components/page-footer.html" import page_footer %}
{% from "components/textbox.html" import textbox %}
{% from "components/radios.html" import radios %}
{% from "components/form.html" import form_wrapper %}
{% from "components/radios/macro.njk" import govukRadios %}

{% block per_page_title %}
  New organisation
{% endblock %}

{% block main %}
  <div class="govuk-width-container">
    <div class="navigation-service">
      <a href="{{ url_for('.organisations') }}" class="govuk-link govuk-link--no-visited-state navigation-service-back-to">All organisations</a>
      <a href="{{ url_for('main.choose_account') }}" class="govuk-link govuk-link--no-visited-state navigation-service-switch">Switch service</a>
    </div>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-quarter">
        &nbsp;
      </div>
      <div class="govuk-grid-column-three-quarters">
        <main class="govuk-main-wrapper column-main govuk-!-padding-top-0 govuk-!-padding-bottom-0" id="main-content" role="main" >
          {% block beforeContent %}{% endblock %}
          {% block content %}
            {{ page_header('New organisation') }}
            {% call form_wrapper() %}
              {{textbox(form.name)}}
              {{govukRadios({
                "name": form.organisation_type.name,
                "fieldset": {
                  "legend": {
                    "text": form.organisation_type.label.text
                  }
                },
                "errorMessage": {
                  "text": form.organisation_type.errors[0]
                } if form.organisation_type.errors else False,
                "items": wtforms_option_fields_to_govuk_items(form.organisation_type)
              })}}
              {{ govukRadios({
                "name": form.crown_status.name,
                "fieldset": {
                  "legend": {
                    "text": form.crown_status.label.text
                  }
                },
                "errorMessage": {
                  "text": form.crown_status.errors[0]
                } if form.crown_status.errors else False,
                "items": wtforms_option_fields_to_govuk_items(form.crown_status)
              }) }}
              {{ page_footer('Save') }}
            {% endcall %}
          {% endblock %}
        </main>
      </div>
    </div>
  </div>

{% endblock %}
