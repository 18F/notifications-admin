{% from "components/textbox.html" import textbox %}

{% macro live_search(
    target_selector=None,
    show=False,
    form=None,
    label=None
) %}
    {%- set search_label = label or form.search.label.text %}
    {% if show %}
      <div class="live-search js-header" data-module="live-search" data-targets="{{ target_selector }}">
        {{ form.search(param_extensions={
          "label": {"text": search_label},
          "autocomplete": "off",
          "attributes": {"data-module": "autofocus"}
        }) }}
      </div>
    {% endif %}
{% endmacro %}
